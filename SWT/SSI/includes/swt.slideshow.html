
<!DOCTYPE html>
<html lang="en">
    <link rel="stylesheet" href="/includes/css/slideshow.css?_=4">
    <body>
        <div class="slideshow-container">
            <div class="slides fade">
                <!-- <div id="slideNum" title="Current photo out of total project photos" class="slideshow-img-num">#/#</div> -->
                <!-- <div id="slideDate" title="File Name" class="slideshow-date"></div> -->
                <!-- <div id="slideCaption" class="slideshow-caption"></div> -->
                <!-- <button id="prev" title="Previous Image" class="nav-btn"><i
                        class="fas fa-caret-square-left"></i></button>
                <button id="next" title="Next Image" class="nav-btn"><i class="fas fa-caret-square-right"></i></button> -->
                <img title="Open in new tab" alt="lake image slideshow" id="slideImg" class="slideshow">
            </div>
        </div>

    </body>
    <script>
        const images_path = "/images/slideshow"
        const files = ['20130917_113449.jpg', '20130917_113453.jpg', 'bb_lake.JPG', 'Big Hill Lake.jpg', 'Big Hill spillway.jpg', 'BROK-LOOKING-NORTH-FROM-ORRIFICE-PEDESTAL.JPG', 'cant d-s.jpg', 'cant looking north.jpg', 'cant spillway gates.jpg', 'cant spillway.jpg', 'cant u-s.jpg', 'Canton In Stream.JPG', 'canton lake sw inlet.JPG', 'Canton Spillover Weir.JPG', 'Copan Dam Structure.jpg', 'COUN-LOOKING NORTHWEST FROM GATETOWER.JPG', 'Council Grove bridge to structure.jpg', 'council grove dam looking north.JPG', 'council grove dam looking south.JPG', 'council grove lake.JPG', 'council grove stilling basin.JPG', 'downstream view.jpg', 'DSCF2292.JPG', 'El dorado  Dam.JPG', 'el Dorado lake outlet channel.JPG', 'IMAG0083.jpg', 'IMAG0089.jpg', 'IMG00024-20101028-1032.jpg', 'img1.jpg', 'IMGP0259.JPG', 'IMGP0263.JPG', 'IMG_0177.JPG', 'IMG_0183.JPG', 'IMG_0190.JPG', 'IMG_0210.jpg', 'IMG_0217.jpg', 'IMG_0249.JPG', 'IMG_0259.JPG', 'IMG_0260.JPG', 'IMG_0261.JPG', 'IMG_0263.JPG', 'IMG_0269.JPG', 'IMG_0276.JPG', 'IMG_0492.JPG', 'IMG_0530.JPG', 'IMG_0533.JPG', 'IMG_0647.JPG', 'IMG_0656.JPG', 'IMG_0684.JPG', 'IMG_0756.JPG', 'IMG_0780.JPG', 'IMG_0789.JPG', 'IMG_1128.jpg', 'IMG_1129.jpg', 'IMG_1166.jpg', 'IMG_1167.jpg', 'IMG_1242.JPG', 'IMG_1258.JPG', 'IMG_1296.JPG', 'IMG_1311.JPG', 'IMG_1312.JPG', 'IMG_20150527_080422.jpg', 'IMG_20150527_080524.jpg', 'IMG_20150527_095936.jpg', 'IMG_20150722_145407.jpg', 'IMG_20170913_091507.jpg', 'IMG_2311.jpg', 'IMG_2312.jpg', 'IMG_2539.JPG', 'IMG_2540.JPG', 'IMG_2595.JPG', 'IMG_2795.JPG', 'intake.JPG', 'lake.JPG', 'outlet_channel.JPG', 'P7200003.JPG', 'P7210021.JPG', 'Photo279.jpg', 'Photo283.jpg', 'R0010539.JPG', 'R0010543.JPG', 'R0010637.JPG', 'R0010638.JPG', 'river pictures 041.jpg', 'river pictures 042.jpg', 'Tainter gate.jpg', 'upstream_dam.JPG']
        // Prevent infinite loop, give up looking for a new file after 10 tries.
        const slideImg = document.getElementById("slideImg")
        updateImg()
        let slideshowTimer = setInterval(function () {
            updateImg()
        }, 12000)


        function updateImg() {
            // Update the image in the DOM
            const img_file = getProjectImg()
            if (img_file) {
                console.log(img_file)
                const img_url = images_path + "/" + img_file
                slideImg.src = img_url
                slideImg.onclick = function() {
                    window.open(img_url)
                }
                slideImg.onerror = function (err) {
                    console.error(err)
                }

            } else {
                console.log("Image was empty!")
            }
        }
        function getProjectImg() {
            // Grab a random project index and return the project for it
            return files[Math.floor(Math.random() * files.length)]
        }

    </script>

</html>